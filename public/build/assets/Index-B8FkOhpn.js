import{d as T,g as v,i as C,A as q,o as a,c as _,w as r,a as l,u as d,Z as N,b as t,l as u,k as b,e as f,p as m,F as B,y as U,t as i,O as w,h as p,v as g}from"./app-Bq8-TzmE.js";import{S as V}from"./SectionContainer-49OzEMUN.js";import{T as $,a as j}from"./ToastSuccess-CB9z8LLo.js";import{_ as D,a as E}from"./AuthenticatedLayout.vue_vue_type_script_setup_true_lang-DWuAYgVp.js";import{P as L}from"./Pagination-C9hcPNHN.js";import{_ as z}from"./SearchInput.vue_vue_type_script_setup_true_lang-B9v7qFUF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const F=t("h2",{class:"font-semibold text-3xl text-gray-800 leading-tight"}," Produtos ",-1),O={class:"mb-3"},R=t("h1",{class:"text-3xl font-bold mb-2 text-gray-800 text-center"}," Produtos ",-1),A={key:0,class:"text-center"},I=t("h1",{class:"text-2xl font-bold py-16"}," Nenhum produto encontrado. ",-1),M=[I],W={key:1,class:"grid md:grid-cols-4 w-full gap-3"},Z={class:"p-2 w-full grid gap-3"},G={class:"w-full h-32 relative"},H={class:"absolute bg-black opacity-80 rounded-lg"},J=["src","alt"],K={class:"flex justify-between w-full items-center"},Q={class:"w-36"},X={class:"text-wrap truncate ... font-semibold text-lg"},Y={class:"card-actions justify-end flex-col"},ee=["onClick"],ie=T({__name:"Index",props:{products:{},flash:{},search:{}},setup(x){const o=x,n=v(o.search),y=C(()=>o.products.links.map(e=>{if(e.url===null)return e;let h=new URL(e.url);return n.value&&h.searchParams.set("product",n.value),{...e,url:`${h}`}})),c=v(!1),k=e=>{c.value=!0,confirm("Tem certeza que quer deletar esse produto?")&&w.delete(route("products.destroy",e))};q(c,e=>{e&&setTimeout(()=>{c.value=!1},4e3)},{immediate:!0});const P=e=>{n.value=e,w.get(route("products.index",{product:n.value}),{},{preserveState:!0,preserveScroll:!0})};return(e,h)=>(a(),_(D,null,{header:r(()=>[F]),default:r(()=>[l(d(N),{title:"Produtos"}),t("div",O,[l(d(b),{href:e.route("products.create"),class:"btn btn-primary w-full text-lg mb-2"},{default:r(()=>[u("Criar Novo Produto")]),_:1},8,["href"])]),l(V,null,{default:r(()=>[R,l(z,{class:"my-4",placeholder:"Pesquisar produtos",onSearch:P,q:n.value},null,8,["q"]),e.products.data.length?m("",!0):(a(),f("div",A,M)),e.products.data.length?(a(),f("div",W,[(a(!0),f(B,null,U(e.products.data,(s,S)=>(a(),f("div",{key:S,class:"card card-side border border-slate-100 items-center shadow-sm"},[t("div",Z,[p(t("figure",G,[p(t("span",{class:"text-2xl text-white font-bold absolute top-12 text-center z-10"},i(s.name),513),[[g,!s.imageUrl]]),p(t("div",H,null,512),[[g,!s.imageUrl]]),t("img",{src:s.imageUrl?"/storage/"+s.imageUrl:"/storage/logos/pdvfacil.png",alt:s.name,class:"object-cover w-full h-full rounded-lg"},null,8,J)],512),[[g,s]]),t("div",K,[t("div",Q,[t("h2",X,i(s.name),1),t("p",null,i(d(E)(s.price)),1)]),t("div",Y,[l(d(b),{href:e.route("products.edit",s.id),class:"btn btn-primary btn-sm w-full"},{default:r(()=>[u("Editar")]),_:2},1032,["href"]),t("button",{onClick:te=>k(s.id),class:"btn btn-error btn-sm w-full"}," Deletar ",8,ee)])])])]))),128))])):m("",!0),l(L,{class:"mt-6",links:y.value},null,8,["links"])]),_:1}),o.flash.success&&c.value?(a(),_($,{key:0},{default:r(()=>[u(i(o.flash.success),1)]),_:1})):m("",!0),o.flash.error&&c.value?(a(),_(j,{key:1},{default:r(()=>[u(i(o.flash.error),1)]),_:1})):m("",!0)]),_:1}))}});export{ie as default};
